{"remainingRequest":"/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/node_modules/babel-loader/lib/index.js!/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/src/pages/SignUpPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/src/pages/SignUpPage.vue","mtime":1655721842850},{"path":"/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/node_modules/cache-loader/dist/cjs.js","mtime":1654185854778},{"path":"/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/node_modules/babel-loader/lib/index.js","mtime":1654185855345},{"path":"/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/node_modules/cache-loader/dist/cjs.js","mtime":1654185854778},{"path":"/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/node_modules/vue-loader-v16/dist/index.js","mtime":1654185855547}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvc2FudGluby93b3Jrc3BhY2UvVnVlLUpTLTMvVHV0cy90ZGQtdnVlLW1haW4vc291cmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBJbnB1dCBmcm9tICIuLi9jb21wb25lbnRzL0lucHV0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTaWduVXBQYWdlIiwKICBjb21wb25lbnRzOiB7CiAgICBJbnB1dDogSW5wdXQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBwYXNzd29yZFJlcGVhdDogIiIsCiAgICAgIGFwaVByb2dyZXNzOiBmYWxzZSwKICAgICAgc2lnblVwU3VjY2VzczogZmFsc2UsCiAgICAgIGVycm9yczoge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYXBpUHJvZ3Jlc3MgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KCIvYXBpLzEuMC91c2VycyIsIHsKICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zaWduVXBTdWNjZXNzID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDApIHsKICAgICAgICAgIF90aGlzLmVycm9ycyA9IGVycm9yLnJlc3BvbnNlLmRhdGEudmFsaWRhdGlvbkVycm9yczsKICAgICAgICB9CgogICAgICAgIF90aGlzLmFwaVByb2dyZXNzID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzRGlzYWJsZWQ6IGZ1bmN0aW9uIGlzRGlzYWJsZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLnBhc3N3b3JkICYmIHRoaXMucGFzc3dvcmRSZXBlYXQgPyB0aGlzLnBhc3N3b3JkICE9PSB0aGlzLnBhc3N3b3JkUmVwZWF0IDogdHJ1ZTsKICAgIH0sCiAgICBoYXNQYXNzd29yZE1pc21hdGNoOiBmdW5jdGlvbiBoYXNQYXNzd29yZE1pc21hdGNoKCkgewogICAgICByZXR1cm4gdGhpcy5wYXNzd29yZCAhPT0gdGhpcy5wYXNzd29yZFJlcGVhdDsKICAgIH0KICB9LAogIHdhdGNoOiBfZGVmaW5lUHJvcGVydHkoewogICAgdXNlcm5hbWU6IGZ1bmN0aW9uIHVzZXJuYW1lKCkgewogICAgICBkZWxldGUgdGhpcy5lcnJvcnMudXNlcm5hbWU7CiAgICB9LAogICAgZW1haWw6IGZ1bmN0aW9uIGVtYWlsKCkgewogICAgICBkZWxldGUgdGhpcy5lcnJvcnMuZW1haWw7CiAgICB9CiAgfSwgInVzZXJuYW1lIiwgZnVuY3Rpb24gdXNlcm5hbWUoKSB7CiAgICBkZWxldGUgdGhpcy5lcnJvcnMudXNlcm5hbWU7CiAgfSkKfTs="},{"version":3,"sources":["/Users/santino/workspace/Vue-JS-3/Tuts/tdd-vue-main/source/src/pages/SignUpPage.vue"],"names":[],"mappings":";AAwDA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAP,MAAkB,qBAAlB;AACA,eAAe;EACb,IAAI,EAAE,YADO;EAEb,UAAU,EAAE;IACV,KAAK,EAAL;EADU,CAFC;EAKb,IALa,kBAKN;IACL,OAAO;MACL,QAAQ,EAAE,EADL;MAEL,KAAK,EAAE,EAFF;MAGL,QAAQ,EAAE,EAHL;MAIL,cAAc,EAAE,EAJX;MAKL,WAAW,EAAE,KALR;MAML,aAAa,EAAE,KANV;MAOL,MAAM,EAAE;IAPH,CAAP;EASD,CAfY;EAgBb,OAAO,EAAE;IACP,MADO,oBACE;MAAA;;MACP,KAAK,WAAL,GAAmB,IAAnB;MACA,KAAI,CACD,IADH,CACQ,gBADR,EAC0B;QACtB,QAAQ,EAAE,KAAK,QADO;QAEtB,KAAK,EAAE,KAAK,KAFU;QAGtB,QAAQ,EAAE,KAAK;MAHO,CAD1B,EAMG,IANH,CAMQ,YAAM;QACV,KAAI,CAAC,aAAL,GAAqB,IAArB;MACD,CARH,EASG,KATH,CASS,UAAC,KAAD,EAAW;QAChB,IAAI,KAAK,CAAC,QAAN,CAAe,MAAf,IAAyB,GAA7B,EAAkC;UAChC,KAAI,CAAC,MAAL,GAAc,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,gBAAlC;QACF;;QACA,KAAI,CAAC,WAAL,GAAmB,KAAnB;MACD,CAdH;IAeD;EAlBM,CAhBI;EAoCb,QAAQ,EAAE;IACR,UADQ,wBACK;MACX,OAAO,KAAK,QAAL,IAAiB,KAAK,cAAtB,GACH,KAAK,QAAL,KAAkB,KAAK,cADpB,GAEH,IAFJ;IAGD,CALO;IAMR,mBANQ,iCAMc;MACpB,OAAO,KAAK,QAAL,KAAkB,KAAK,cAA9B;IACD;EARO,CApCG;EA8Cb,KAAK;IACH,QADG,sBACO;MACR,OAAO,KAAK,MAAL,CAAY,QAAnB;IACD,CAHE;IAIH,KAJG,mBAII;MACL,OAAO,KAAK,MAAL,CAAY,KAAnB;IACD;EANE,mCAOO;IACR,OAAO,KAAK,MAAL,CAAY,QAAnB;EACF,CATG;AA9CQ,CAAf","sourcesContent":["<template>\n  <div class=\"col-lg-6 offset-lg-3 col-md-8 offset-lg-2\">\n    <form class=\"card mt-5\" data-testid=\"form-sign-up\" v-if=\"!signUpSuccess\">\n      <div class=\"card-header\">\n        <h1 class=\"text-center\">Sign Up</h1>\n      </div>\n      <div class=\"card-body\">\n        <Input\n          id=\"username\"\n          label=\"Username\"\n          :help=\"errors.username\"\n          v-model=\"username\"\n        />\n        <Input\n          id=\"e-mail\"\n          label=\"E-mail\"\n          :help=\"errors.email\"\n          v-model=\"email\"\n        />\n        <Input\n          id=\"password\"\n          label=\"Password\"\n          :help=\"errors.password\"\n          v-model=\"password\"\n          type=\"password\"\n        />\n        <Input\n          id=\"password-repeat\"\n          label=\"Password Repeat\"\n          :help=\"hasPasswordMismatch ? 'Password mismatch' : '' \"\n          v-model=\"passwordRepeat\"\n          type=\"password\"\n        />\n        <div class=\"text-center\">\n          <button\n            class=\"btn btn-primary\"\n            :disabled=\"isDisabled || apiProgress\"\n            @click.prevent=\"submit\"\n          >\n            <span\n              v-if=\"apiProgress\"\n              class=\"spinner-border spinner-border-sm\"\n              role=\"status\"\n            ></span>\n            Sign Up\n          </button>\n        </div>\n      </div>\n    </form>\n    <div class=\"alert alert-success mt-3\" v-else>\n      Please check your e-mail to activate your account\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Input from \"../components/Input\";\nexport default {\n  name: \"SignUpPage\",\n  components: {\n    Input,\n  },\n  data() {\n    return {\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      passwordRepeat: \"\",\n      apiProgress: false,\n      signUpSuccess: false,\n      errors: {},\n    };\n  },\n  methods: {\n    submit() {\n      this.apiProgress = true;\n      axios\n        .post(\"/api/1.0/users\", {\n          username: this.username,\n          email: this.email,\n          password: this.password,\n        })\n        .then(() => {\n          this.signUpSuccess = true;\n        })\n        .catch((error) => {\n          if (error.response.status == 400) {\n            this.errors = error.response.data.validationErrors;\n          }\n          this.apiProgress = false;\n        });\n    },\n  },\n  computed: {\n    isDisabled() {\n      return this.password && this.passwordRepeat\n        ? this.password !== this.passwordRepeat\n        : true;\n    },\n    hasPasswordMismatch() {\n      return this.password !== this.passwordRepeat;\n    },\n  },\n  watch: {\n    username(){\n      delete this.errors.username;\n    },\n    email(){\n      delete this.errors.email;\n    },\n    username(){\n      delete this.errors.username;\n    }\n  }\n};\n</script>\n"],"sourceRoot":""}]}